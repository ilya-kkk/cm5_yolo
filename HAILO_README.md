# Hailo YOLO –¥–ª—è Raspberry Pi CM5

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∑–∞–ø—É—Å–∫ YOLO –º–æ–¥–µ–ª–∏ –Ω–∞ Hailo-8L —É—Å–∫–æ—Ä–∏—Ç–µ–ª–µ –¥–ª—è Raspberry Pi Compute Module 5.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ Hailo
–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Hailo-8L —É—Å–∫–æ—Ä–∏—Ç–µ–ª—å –¥–æ—Å—Ç—É–ø–µ–Ω:

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞ Hailo
docker compose run hailo-test
```

### 2. –ó–∞–ø—É—Å–∫ Hailo YOLO –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker compose up -d yolo-camera-stream

# –ò–ª–∏ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ
docker compose up yolo-camera-stream
```

### 3. –ó–∞–ø—É—Å–∫ –∫–∞–º–µ—Ä—ã
```bash
# –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x start_hailo_camera.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–º–µ—Ä—É
./start_hailo_camera.sh
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `hailo_yolo_main.py` - –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –¥–ª—è –∑–∞–ø—É—Å–∫–∞ YOLO –Ω–∞ Hailo
- `test_hailo_basic.py` - –¢–µ—Å—Ç –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ Hailo
- `start_hailo_camera.sh` - –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –∫–∞–º–µ—Ä—ã
- `yolov8n.hef` - Hailo –º–æ–¥–µ–ª—å YOLOv8n
- `docker-compose.yml` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker —Å–µ—Ä–≤–∏—Å–æ–≤

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Raspberry Pi CM5 —Å Hailo-8L —É—Å–∫–æ—Ä–∏—Ç–µ–ª–µ–º
- OV5647 –∫–∞–º–µ—Ä–∞ –Ω–∞ MIPI0 –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- Docker –∏ Docker Compose
- Hailo Platform 4.15+ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
docker compose ps

# –õ–æ–≥–∏ Hailo YOLO
docker compose logs yolo-camera-stream

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∫–∞–¥—Ä–æ–≤
ls -la /tmp/yolo_frames/
```

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
–í–µ–±-—Å–µ—Ä–≤–∏—Å –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8080:
```bash
# –ó–∞–ø—É—Å–∫ –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞
docker compose up -d web-stream-service

# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
http://localhost:8080
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### Hailo –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Hailo Platform —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
   ```bash
   python3 -c "import hailo_platform; print('OK')"
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ PCI —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:
   ```bash
   lspci | grep -i hailo
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏:
   ```bash
   lsmod | grep -i hailo
   ```

### –ö–∞–º–µ—Ä–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∫–∞–º–µ—Ä—ã:
   ```bash
   v4l2-ctl --list-devices
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
   ```bash
   sudo usermod -a -G video $USER
   ```

3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ù–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PCIe Gen3 –≤–∫–ª—é—á–µ–Ω –≤ `/boot/firmware/config.txt`:
   ```
   dtparam=pciex1_gen=3
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É Hailo:
   ```bash
   cat /sys/class/thermal/thermal_zone*/temp
   ```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–û–∂–∏–¥–∞–µ–º–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ Hailo-8L:
- **FPS**: 30-60 FPS (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–æ–¥–µ–ª–∏)
- **–ó–∞–¥–µ—Ä–∂–∫–∞**: <50ms
- **–¢–æ—á–Ω–æ—Å—Ç—å**: COCO mAP 0.5:0.95

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥—Ä—É–≥–æ–π YOLO –º–æ–¥–µ–ª–∏:

1. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ –º–æ–¥–µ–ª—å –≤ HEF —Ñ–æ—Ä–º–∞—Ç —Å –ø–æ–º–æ—â—å—é Hailo Model Zoo
2. –ó–∞–º–µ–Ω–∏—Ç–µ `yolov8n.hef` –Ω–∞ –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å
3. –û–±–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `hailo_yolo_main.py`:
   - `input_shape`
   - `postprocess_detections()`

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤:
- Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: `docker compose logs yolo-camera-stream`
- –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∫–∞–¥—Ä—ã: `/tmp/yolo_frames/`
- –°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏: `journalctl -u docker`

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç: `docker compose run hailo-test`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker compose logs yolo-camera-stream`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Hailo Platform Documentation](https://docs.hailo.ai/)
- [Hailo Model Zoo](https://github.com/hailo-ai/hailo_model_zoo)
- [Raspberry Pi CM5 Documentation](https://www.raspberrypi.com/documentation/computers/compute-module-5.html) 